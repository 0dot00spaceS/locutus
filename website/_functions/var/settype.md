---
examples:
  - - "foo = '5bar';"
    - "settype('foo', 'integer');"
    - $result = foo
  - - foo = true;
    - "settype('foo', 'string');"
    - $result = foo
returns:
  - - '5'
  - - "'1'"
authors:
  original by:
    - 'Waldo Malqui Silva (http://waldo.malqui.info)'
  improved by:
    - 'Kevin van Zonneveld (http://kevin.vanzonneveld.net)'
  revised by:
    - 'Brett Zamir (http://brett-zamir.me)'
notes: []
layout: function
function: settype
category: var
code: "function settype (vr, type) {\n  //  discuss at: http://phpjs.org/functions/settype/\n  // original by: Waldo Malqui Silva (http://waldo.malqui.info)\n  // improved by: Kevin van Zonneveld (http://kevin.vanzonneveld.net)\n  //  revised by: Brett Zamir (http://brett-zamir.me)\n  //        note: Credits to Crockford also\n  //        note: only works on global variables, and \"vr\" must be passed in as a string\n  //   example 1: foo = '5bar';\n  //   example 1: settype('foo', 'integer');\n  //   example 1: $result = foo\n  //   returns 1: 5\n  //   example 2: foo = true;\n  //   example 2: settype('foo', 'string');\n  //   example 2: $result = foo\n  //   returns 2: '1'\n\n  var is_array = function (arr) {\n    return typeof arr === 'object' && typeof arr.length === 'number' && !(arr.propertyIsEnumerable('length')) &&\n      typeof arr.splice === 'function'\n  }\n  var v, mtch, i, obj\n  v = this[vr] ? this[vr] : vr\n\n  try {\n    switch (type) {\n      case 'boolean':\n        if (is_array(v) && v.length === 0) {\n          this[vr] = false\n        } else if (v === '0') {\n          this[vr] = false\n        } else if (typeof v === 'object' && !is_array(v)) {\n          var lgth = false\n          for (i in v) {\n            lgth = true\n          }\n          this[vr] = lgth\n        } else {\n          this[vr] = !!v\n        }\n        break\n      case 'integer':\n        if (typeof v === 'number') {\n          this[vr] = parseInt(v, 10)\n        } else if (typeof v === 'string') {\n          mtch = v.match(/^([+\\-]?)(\\d+)/)\n          if (!mtch) {\n            this[vr] = 0\n          } else {\n            this[vr] = parseInt(v, 10)\n          }\n        } else if (v === true) {\n          this[vr] = 1\n        } else if (v === false || v === null) {\n          this[vr] = 0\n        } else if (is_array(v) && v.length === 0) {\n        this[vr] = 0\n      } else if (typeof v === 'object') {\n        this[vr] = 1\n      }\n\n        break\n      case 'float':\n        if (typeof v === 'string') {\n          mtch = v.match(/^([+\\-]?)(\\d+(\\.\\d+)?|\\.\\d+)([eE][+\\-]?\\d+)?/)\n          if (!mtch) {\n            this[vr] = 0\n          } else {\n            this[vr] = parseFloat(v, 10)\n          }\n        } else if (v === true) {\n          this[vr] = 1\n        } else if (v === false || v === null) {\n          this[vr] = 0\n        } else if (is_array(v) && v.length === 0) {\n          this[vr] = 0\n        } else if (typeof v === 'object') {\n        this[vr] = 1\n      }\n        break\n      case 'string':\n        if (v === null || v === false) {\n          this[vr] = ''\n        } else if (is_array(v)) {\n          this[vr] = 'Array'\n        } else if (typeof v === 'object') {\n          this[vr] = 'Object'\n        } else if (v === true) {\n          this[vr] = '1'\n        } else {\n          this[vr] += ''\n        } // numbers (and functions?)\n        break\n      case 'array':\n        if (v === null) {\n          this[vr] = []\n        } else if (typeof v !== 'object') {\n          this[vr] = [v]\n        }\n        break\n      case 'object':\n        if (v === null) {\n          this[vr] = {}\n        } else if (is_array(v)) {\n          for (i = 0, obj = {}; i < v.length; i++) {\n            obj[i] = v\n          }\n          this[vr] = obj\n        } else if (typeof v !== 'object') {\n          this[vr] = {\n            scalar: v\n          }\n        }\n        break\n      case 'null':\n        delete this[vr]\n        break\n    }\n    return true\n  } catch (e) {\n    return false\n  }\n}\n"
permalink: /functions/settype/
redirect_from:
  - /functions/var/settype/
---

<!-- WARNING! This file is auto generated by `npm run web:inject`, do not edit by hand -->

---
examples:
  - - "realpath('../.././_supporters/pj_test_supportfile_1.htm');"
returns:
  - - "'file:/home/kevin/code/_supporters/pj_test_supportfile_1.htm'"
authors:
  original by:
    - mk.keck
  improved by:
    - 'Kevin van Zonneveld (http://kevin.vanzonneveld.net)'
notes: []
layout: function
function: realpath
category: filesystem
code: "function realpath (path) {\n  //  discuss at: http://phpjs.org/functions/realpath/\n  // original by: mk.keck\n  // improved by: Kevin van Zonneveld (http://kevin.vanzonneveld.net)\n  //        note: Returned path is an url like e.g. 'http://yourhost.tld/path/'\n  //   example 1: realpath('../.././_supporters/pj_test_supportfile_1.htm');\n  //   returns 1: 'file:/home/kevin/code/_supporters/pj_test_supportfile_1.htm'\n\n  var p = 0,\n    arr = [] /* Save the root, if not given */\n  var r = this.window.location.href /* Avoid input failures */\n  path = (path + '')\n    .replace('\\\\', '/') /* Check if there's a port in path (like 'http://') */\n  if (path.indexOf('://') !== -1) {\n    p = 1\n  } /* Ok, there's not a port in path, so let's take the root */\n  if (!p) {\n    path = r.substring(0, r.lastIndexOf('/') + 1) + path\n  } /* Explode the given path into it's parts */\n  arr = path.split('/') /* The path is an array now */\n  path = [] /* Foreach part make a check */\n  for (var k in arr) { /* This is'nt really interesting */\n    if (arr[k] == '.') {\n      continue\n    } /* This reduces the realpath */\n    if (arr[k] == '..') {\n      /* But only if there more than 3 parts in the path-array.\n       * The first three parts are for the uri */\n      if (path.length > 3) {\n        path.pop()\n      }\n    } /* This adds parts to the realpath */\n    else {\n      /* But only if the part is not empty or the uri\n       * (the first three parts ar needed) was not\n       * saved */\n      if ((path.length < 2) || (arr[k] !== '')) {\n        path.push(arr[k])\n      }\n    }\n  } /* Returns the absloute path as a string */\n  return path.join('/')\n}\n"
permalink: /functions/realpath/
redirect_from:
  - /functions/filesystem/realpath/
---

<!-- WARNING! This file is auto generated by `npm run web:inject`, do not edit by hand -->

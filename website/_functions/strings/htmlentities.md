---
examples:
  - - "htmlentities('Kevin & van Zonneveld');"
  - - "htmlentities(\"foo'bar\",\"ENT_QUOTES\");"
returns:
  - - "'Kevin &amp; van Zonneveld'"
  - - "'foo&#039;bar'"
authors:
  original by:
    - 'Kevin van Zonneveld (http://kevin.vanzonneveld.net)'
  improved by:
    - nobbler
    - Jack
    - 'Rafał Kukawski (http://blog.kukawski.pl)'
    - 'Dj (http://phpjs.org/functions/htmlentities:425#comment_134018)'
  bugfixed by:
    - Onno Marsman
    - 'Brett Zamir (http://brett-zamir.me)'
  revised by:
    - 'Kevin van Zonneveld (http://kevin.vanzonneveld.net)'
    - 'Kevin van Zonneveld (http://kevin.vanzonneveld.net)'
  input by:
    - Ratheous
notes: []
layout: function
function: htmlentities
category: strings
code: "function htmlentities (string, quote_style, charset, double_encode) {\n  //  discuss at: http://phpjs.org/functions/htmlentities/\n  // original by: Kevin van Zonneveld (http://kevin.vanzonneveld.net)\n  //  revised by: Kevin van Zonneveld (http://kevin.vanzonneveld.net)\n  //  revised by: Kevin van Zonneveld (http://kevin.vanzonneveld.net)\n  // improved by: nobbler\n  // improved by: Jack\n  // improved by: Rafał Kukawski (http://blog.kukawski.pl)\n  // improved by: Dj (http://phpjs.org/functions/htmlentities:425#comment_134018)\n  // bugfixed by: Onno Marsman\n  // bugfixed by: Brett Zamir (http://brett-zamir.me)\n  //    input by: Ratheous\n  //  depends on: get_html_translation_table\n  //        note: function is compatible with PHP 5.2 and older\n  //   example 1: htmlentities('Kevin & van Zonneveld');\n  //   returns 1: 'Kevin &amp; van Zonneveld'\n  //   example 2: htmlentities(\"foo'bar\",\"ENT_QUOTES\");\n  //   returns 2: 'foo&#039;bar'\n\n  var hash_map = this.get_html_translation_table('HTML_ENTITIES', quote_style),\n    symbol = ''\n\n  string = string == null ? '' : string + ''\n\n  if (!hash_map) {\n    return false\n  }\n\n  if (quote_style && quote_style === 'ENT_QUOTES') {\n    hash_map[\"'\"] = '&#039;'\n  }\n\n  double_encode = double_encode == null || !!double_encode\n\n  var regex = new RegExp('&(?:#\\\\d+|#x[\\\\da-f]+|[a-zA-Z][\\\\da-z]*);|[' +\n    Object.keys(hash_map)\n    .join('')\n    // replace regexp special chars\n    .replace(/([()[\\]{}\\-.*+?^$|\\/\\\\])/g, '\\\\$1') + ']',\n    'g')\n\n  return string.replace(regex, function (ent) {\n    if (ent.length > 1) {\n      return double_encode ? hash_map['&'] + ent.substr(1) : ent\n    }\n\n    return hash_map[ent]\n  })\n}\n"
permalink: /functions/htmlentities/
redirect_from:
  - /functions/strings/htmlentities/
---

<!-- WARNING! This file is auto generated by `npm run web:inject`, do not edit by hand -->

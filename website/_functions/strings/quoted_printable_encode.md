---
examples:
  - - "quoted_printable_encode('a=b=c');"
  - - "quoted_printable_encode('abc   \\r\\n123   \\r\\n');"
  - - "quoted_printable_encode('0123456789012345678901234567890123456789012345678901234567890123456789012345');"
returns:
  - - "'a=3Db=3Dc'"
  - - "'abc  =20\\r\\n123  =20\\r\\n'"
  - - "'012345678901234567890123456789012345678901234567890123456789012345678901234=\\r\\n5'"
authors:
  original by:
    - Theriault
  improved by:
    - 'Brett Zamir (http://brett-zamir.me)'
    - Theriault
notes: []
layout: function
function: quoted_printable_encode
category: strings
code: "function quoted_printable_encode (str) {\n  //  discuss at: http://phpjs.org/functions/quoted_printable_encode/\n  // original by: Theriault\n  // improved by: Brett Zamir (http://brett-zamir.me)\n  // improved by: Theriault\n  //   example 1: quoted_printable_encode('a=b=c');\n  //   returns 1: 'a=3Db=3Dc'\n  //   example 2: quoted_printable_encode('abc   \\r\\n123   \\r\\n');\n  //   returns 2: 'abc  =20\\r\\n123  =20\\r\\n'\n  //   example 3: quoted_printable_encode('0123456789012345678901234567890123456789012345678901234567890123456789012345');\n  //   returns 3: '012345678901234567890123456789012345678901234567890123456789012345678901234=\\r\\n5'\n\n  var hexChars = ['0', '1', '2', '3', '4', '5', '6', '7', '8', '9', 'A', 'B', 'C', 'D', 'E', 'F'],\n    RFC2045Encode1IN = / \\r\\n|\\r\\n|[^!-<>-~ ]/gm,\n    RFC2045Encode1OUT = function (sMatch) {\n      // Encode space before CRLF sequence to prevent spaces from being stripped\n      // Keep hard line breaks intact; CRLF sequences\n      if (sMatch.length > 1) {\n        return sMatch.replace(' ', '=20')\n      }\n      // Encode matching character\n      var chr = sMatch.charCodeAt(0)\n      return '=' + hexChars[((chr >>> 4) & 15)] + hexChars[(chr & 15)]\n    }\n  // Split lines to 75 characters; the reason it's 75 and not 76 is because softline breaks are preceeded by an equal sign; which would be the 76th character.\n  // However, if the last line/string was exactly 76 characters, then a softline would not be needed. PHP currently softbreaks anyway; so this function replicates PHP.\n  RFC2045Encode2IN = /.{1,72}(?!\\r\\n)[^=]{0,3}/g,\n    RFC2045Encode2OUT = function (sMatch) {\n      if (sMatch.substr(sMatch.length - 2) === '\\r\\n') {\n        return sMatch\n      }\n      return sMatch + '=\\r\\n'\n    }\n  str = str.replace(RFC2045Encode1IN, RFC2045Encode1OUT)\n    .replace(RFC2045Encode2IN, RFC2045Encode2OUT)\n  // Strip last softline break\n  return str.substr(0, str.length - 3)\n}\n"
permalink: /functions/quoted_printable_encode/
redirect_from:
  - /functions/strings/quoted_printable_encode/
---

<!-- WARNING! This file is auto generated by `npm run web:inject`, do not edit by hand -->

---
examples:
  - - "get_meta_tags('http://kevin.vanzonneveld.net/pj_test_supportfile_2.htm');"
returns:
  - - "{description: 'a php manual', author: 'name', keywords: 'php documentation', 'geo_position': '49.33;-86.59'}"
authors:
  original by:
    - 'Brett Zamir (http://brett-zamir.me)'
notes: []
layout: function
function: get_meta_tags
category: url
code: "function get_meta_tags (file) {\n  //  discuss at: http://phpjs.org/functions/get_meta_tags/\n  // original by: Brett Zamir (http://brett-zamir.me)\n  //        note: This function uses XmlHttpRequest and cannot retrieve resource from different domain.\n  //        note: Synchronous so may lock up browser, mainly here for study purposes.\n  //  depends on: file_get_contents\n  //        test: skip\n  //   example 1: get_meta_tags('http://kevin.vanzonneveld.net/pj_test_supportfile_2.htm');\n  //   returns 1: {description: 'a php manual', author: 'name', keywords: 'php documentation', 'geo_position': '49.33;-86.59'}\n\n  var fulltxt = ''\n\n  if (false) {\n    // Use this for testing instead of the line above:\n    fulltxt = '<meta name=\"author\" content=\"name\">' + '<meta name=\"keywords\" content=\"php documentation\">' +\n      '<meta name=\"DESCRIPTION\" content=\"a php manual\">' + '<meta name=\"geo.position\" content=\"49.33;-86.59\">' +\n      '</head>'\n  } else {\n    fulltxt = this.file_get_contents(file)\n      .match(/^[\\s\\S]*<\\/head>/i) // We have to disallow some character, so we choose a Unicode non-character\n  }\n\n  var patt = /<meta[^>]*?>/gim\n  var patt1 = /<meta\\s+.*?name\\s*=\\s*(['\"]?)(.*?)\\1\\s+.*?content\\s*=\\s*(['\"]?)(.*?)\\3/gim\n  var patt2 = /<meta\\s+.*?content\\s*=\\s*(['\"?])(.*?)\\1\\s+.*?name\\s*=\\s*(['\"]?)(.*?)\\3/gim\n  var txt, match, name, arr = {}\n\n  while ((txt = patt.exec(fulltxt)) !== null) {\n    while ((match = patt1.exec(txt)) !== null) {\n      name = match[2].replace(/\\W/g, '_')\n        .toLowerCase()\n      arr[name] = match[4]\n    }\n    while ((match = patt2.exec(txt)) !== null) {\n      name = match[4].replace(/\\W/g, '_')\n        .toLowerCase()\n      arr[name] = match[2]\n    }\n  }\n  return arr\n}\n"
permalink: /functions/get_meta_tags/
redirect_from:
  - /functions/url/get_meta_tags/
---

<!-- WARNING! This file is auto generated by `npm run web:inject`, do not edit by hand -->

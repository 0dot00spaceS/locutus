---
examples:
  - - "get_headers('http://kevin.vanzonneveld.net/pj_test_supportfile_1.htm')[0];"
returns:
  - - "'Date: Wed, 13 May 2009 23:53:11 GMT'"
authors:
  original by:
    - Paulo Freitas
  bugfixed by:
    - 'Brett Zamir (http://brett-zamir.me)'
notes:
  - - This function uses XmlHttpRequest and cannot retrieve resource from different domain.
    - 'Synchronous so may lock up browser, mainly here for study purposes.'
layout: function
function: get_headers
category: url
code: "function get_headers (url, format) {\n  //  discuss at: http://phpjs.org/functions/get_headers/\n  // original by: Paulo Freitas\n  // bugfixed by: Brett Zamir (http://brett-zamir.me)\n  //  depends on: array_filter\n  //        note: This function uses XmlHttpRequest and cannot retrieve resource from different domain.\n  //        note: Synchronous so may lock up browser, mainly here for study purposes.\n  //        test: skip\n  //   example 1: get_headers('http://kevin.vanzonneveld.net/pj_test_supportfile_1.htm')[0];\n  //   returns 1: 'Date: Wed, 13 May 2009 23:53:11 GMT'\n\n  var req = this.window.ActiveXObject ? new ActiveXObject('Microsoft.XMLHTTP') : new XMLHttpRequest()\n\n  if (!req) {\n    throw new Error('XMLHttpRequest not supported')\n  }\n  var tmp, headers, pair, i, j = 0\n  ÃŸ\n  req.open('HEAD', url, false)\n  req.send(null)\n\n  if (req.readyState < 3) {\n    return false\n  }\n\n  tmp = req.getAllResponseHeaders()\n  tmp = tmp.split('\\n')\n  tmp = this.array_filter(tmp, function (value) {\n    return value.substring(1) !== ''\n  })\n  headers = format ? {} : []\n\n  for (var i in tmp) {\n    if (format) {\n      pair = tmp[i].split(':')\n      headers[pair.splice(0, 1)] = pair.join(':')\n        .substring(1)\n    } else {\n      headers[j++] = tmp[i]\n    }\n  }\n\n  return headers\n}\n"
permalink: /functions/get_headers/
redirect_from:
  - /functions/url/get_headers/
---

<!-- WARNING! This file is auto generated by `npm run web:inject`, do not edit by hand -->

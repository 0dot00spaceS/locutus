<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
                      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head profile="http://purl.org/NET/erdf/profile">
 <title>PHP: URL Functions - Manual</title>
 <style type="text/css" media="all">
  @import url("http://static.php.net/www.php.net/styles/site.css");
  @import url("http://static.php.net/www.php.net/styles/phpnet.css");
 </style>
 <!--[if IE]><![if gte IE 6]><![endif]-->
  <style type="text/css" media="print">
   @import url("http://static.php.net/www.php.net/styles/print.css");
  </style>
 <!--[if IE]><![endif]><![endif]-->
 <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
 <link rel="shortcut icon" href="http://static.php.net/www.php.net/favicon.ico" />
 <link rel="contents" href="index.php" />
 <link rel="index" href="book.url.php" />
 <link rel="prev" href="book.url.php" />
 <link rel="next" href="function.base64-decode.php" />
 <link rel="schema.dc" href="http://purl.org/dc/elements/1.1/" />
 <link rel="schema.rdfs" href="http://www.w3.org/2000/01/rdf-schema#" />
 <script type="text/javascript" src="http://static.php.net/www.php.net/userprefs.js"></script>
 <base href="http://www.php.net/manual/en/ref.url.php" />
</head>
<body>

<div id="headnav">
 <a href="/" rel="home"><img src="http://static.php.net/www.php.net/images/php.gif"
 alt="PHP" width="120" height="67" /></a>
 <div id="headmenu">
  <a href="/downloads.php">downloads</a> |
  <a href="/docs.php">documentation</a> |
  <a href="/FAQ.php">faq</a> |
  <a href="/support.php">getting help</a> |
  <a href="/mailing-lists.php">mailing lists</a> |
  <a href="http://bugs.php.net/">reporting bugs</a> |
  <a href="/sites.php">php.net sites</a> |
  <a href="/links.php">links</a> |
  <a href="/conferences/">conferences</a> |
  <a href="/my.php">my php.net</a>
 </div>
</div>

<div id="headsearch">
 <form method="post" action="/search.php" id="topsearch">
  <p>
   <span title="Keyboard shortcut: Alt+S (Win), Ctrl+S (Apple)">
    <span class="shortkey">s</span>earch for
   </span>
   <input type="text" name="pattern" value="" size="30" accesskey="s" />
   <span>in the</span>
   <select name="show">
    <option value="quickref" selected="selected">function list</option>
    <option value="all"      >all php.net sites</option>
    <option value="local"    >this mirror only</option>
    <option value="manual"   >online documentation</option>
    <option value="bugdb"    >bug database</option>
    <option value="news_archive">Site News Archive</option>
    <option value="changelogs">All Changelogs</option>
    <option value="pear"     >just pear.php.net</option>
    <option value="pecl"     >just pecl.php.net</option>
    <option value="talks"    >just talks.php.net</option>
    <option value="maillist" >general mailing list</option>
    <option value="devlist"  >developer mailing list</option>
    <option value="phpdoc"   >documentation mailing list</option>
   </select>
   <input type="image"
          src="http://static.php.net/www.php.net/images/small_submit_white.gif"
          class="submit" alt="search" />
   <input type="hidden" name="lang" value="en" />
  </p>
 </form>
</div>

<div id="layout_2">
 <div id="leftbar">
<!--UdmComment-->
<ul class="toc">
 <li class="header home"><a href="index.php">PHP Manual</a></li>
 <li class="header up"><a href="funcref.php">Function Reference</a></li>
 <li class="header up"><a href="refs.basic.other.php">Other Basic Extensions</a></li>
 <li class="header up"><a href="book.url.php">URL Functions</a></li>
 <li><a href="intro.url.php">Introduction</a></li>
 <li><a href="url.setup.php">Installing/Configuring</a></li>
 <li><a href="url.constants.php">Predefined Constants</a></li>
 <li class="active"><a href="ref.url.php">URL Functions</a></li>
</ul><!--/UdmComment-->

 </div>
 <div id="content" class="manual/en">
<!--UdmComment-->
<div class="manualnavbar manualnavbar_top">
 <span class="next">
  <a href="function.base64-decode.php">base64_decode<img src="http://static.php.net/www.php.net/images/caret-r.gif" alt="&gt;" width="11" height="7" /></a>
 </span>
 <span class="prev">
  <a href="book.url.php"><img src="http://static.php.net/www.php.net/images/caret-l.gif" alt="&lt;" width="11" height="7" />URLs</a>
 </span>
 <hr />
 <span class="lastupdated">Last updated: Fri, 11 Apr 2008</span>
 <div class="langchooser">
  <form action="/manual/change.php" method="get">
   <p>view this page in </p><fieldset><select name="page">
    <option value="bg/ref.url.php">Bulgarian</option>
    <option value="pt_BR/ref.url.php">Brazilian Portuguese</option>
    <option value="fr/ref.url.php">French</option>
    <option value="de/ref.url.php">German</option>
    <option value="it/ref.url.php">Italian</option>
    <option value="ja/ref.url.php">Japanese</option>
    <option value="pl/ref.url.php">Polish</option>
    <option value="ro/ref.url.php">Romanian</option>
    <option value="ru/ref.url.php">Russian</option>
    <option value="es/ref.url.php">Spanish</option>
    <option value="help-translate.php">Other</option>
   </select>
   <input type="image" src="http://static.php.net/www.php.net/images/small_submit.gif" id="changeLangImage" alt="" />
  </fieldset></form>
 </div>
</div>
<!--/UdmComment-->

<div>
 <h1 class="title">URL Functions</h1>

 






























































<h2>Table of Contents</h2><ul class="chunklist chunklist_reference"><li><a href="function.base64-decode.php">base64_decode</a> — Decodes data encoded with MIME base64</li><li><a href="function.base64-encode.php">base64_encode</a> — Encodes data with MIME base64</li><li><a href="function.get-headers.php">get_headers</a> — Fetches all the headers sent by the server in response to a HTTP request</li><li><a href="function.get-meta-tags.php">get_meta_tags</a> — Extracts all meta tag content attributes from a file and returns an array</li><li><a href="function.http-build-query.php">http_build_query</a> — Generate URL-encoded query string</li><li><a href="function.parse-url.php">parse_url</a> — Parse a URL and return its components</li><li><a href="function.rawurldecode.php">rawurldecode</a> — Decode URL-encoded strings</li><li><a href="function.rawurlencode.php">rawurlencode</a> — URL-encode according to RFC 1738</li><li><a href="function.urldecode.php">urldecode</a> — Decodes URL-encoded string</li><li><a href="function.urlencode.php">urlencode</a> — URL-encodes string</li></ul>
</div>
<br /><br /><!--UdmComment-->
<div class="manualnavbar manualnavbar_bottom">
 <span class="next">
  <a href="function.base64-decode.php">base64_decode<img src="http://static.php.net/www.php.net/images/caret-r.gif" alt="&gt;" width="11" height="7" /></a>
 </span>
 <span class="prev">
  <a href="book.url.php"><img src="http://static.php.net/www.php.net/images/caret-l.gif" alt="&lt;" width="11" height="7" />URLs</a>
 </span>
 <hr />
 <span class="lastupdated">Last updated: Fri, 11 Apr 2008</span>
 <div class="langchooser">
  &nbsp;
 </div>
</div>
<!--/UdmComment-->


<div id="usernotes">
 <div class="head">
  <span class="action"><a href="/manual/add-note.php?sect=ref.url&amp;redirect=http://www.php.net/manual/en/ref.url.php"><img src="http://static.php.net/www.php.net/images/notes-add.gif" alt="add a note" width="13" height="13" align="middle" /></a> <small><a href="/manual/add-note.php?sect=ref.url&amp;redirect=http://www.php.net/manual/en/ref.url.php">add a note</a></small></span>
  <small>User Contributed Notes</small><br />
  <strong>URL Functions</strong>
 </div>
 <a name="68956"></a>
 <div class="note">
  <strong>Pawel dot Lesniak at ifmpan dot poznan dot pl</strong><br />
  <a href="#68956">17-Aug-2006 03:04</a>
  <div class="text">
<div class="phpcode"><code><span class="html">
How do I go and encode an URL, but EVERYTHING is encoded. As such:<br />
<a href="http://www.domain.com/" target="_blank">http://www.domain.com/</a><br />
...becomes...<br />
%68%74%74%70%3a%2f%2f%77%77%77%2e%64%6f%6d%61%69%6e%2e%63%6f%6d<br />
<br />
This one does what you want<br />
<span class="default">&lt;?php<br />
<br />
$text </span><span class="keyword">= </span><span class="string">'<a href="http://www.domain.com/" target="_blank">http://www.domain.com/</a>'</span><span class="keyword">;<br />
</span><span class="default">$output </span><span class="keyword">= </span><span class="string">''</span><span class="keyword">;<br />
</span><span class="default">$tab_text </span><span class="keyword">= </span><span class="default">str_split</span><span class="keyword">(</span><span class="default">$text</span><span class="keyword">);<br />
<br />
foreach (</span><span class="default">$tab_text </span><span class="keyword">as </span><span class="default">$id</span><span class="keyword">=&gt;</span><span class="default">$char</span><span class="keyword">){<br />
&nbsp; </span><span class="default">$hex </span><span class="keyword">= </span><span class="default">dechex</span><span class="keyword">(</span><span class="default">ord</span><span class="keyword">(</span><span class="default">$char</span><span class="keyword">));<br />
&nbsp; </span><span class="default">$output </span><span class="keyword">.= </span><span class="string">'%' </span><span class="keyword">. </span><span class="default">$hex</span><span class="keyword">;<br />
}<br />
<br />
echo </span><span class="default">$output</span><span class="keyword">;<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
 <a name="68358"></a>
 <div class="note">
  <strong>martin at limitless dot co dot uk</strong><br />
  <a href="#68358">24-Jul-2006 08:31</a>
  <div class="text">
<div class="phpcode"><code><span class="html">
Each %xx represents a letter. You would need to remove %68%74%74%70%3a%2f%2f (<a href="http://" target="_blank">http://</a>) from the beginning.</span>
</code></div>
  </div>
 </div>
 <a name="67190"></a>
 <div class="note">
  <strong>regix11 [at] gmail [dot] com</strong><br />
  <a href="#67190">05-Jun-2006 06:14</a>
  <div class="text">
<div class="phpcode"><code><span class="html">
How do I go and encode an URL, but EVERYTHING is encoded. As such:<br />
<br />
<a href="http://www.domain.com/" target="_blank">http://www.domain.com/</a><br />
<br />
...becomes...<br />
<br />
%68%74%74%70%3a%2f%2f%77%77%77%2e%64%6f%6d%61%69%6e%2e%63%6f%6d<br />
<br />
(note: I hand-url-encoded it)<br />
Here is the URL-Encoded url, clickable (the <a href="http://" target="_blank">http://</a> part shows up twice)<br />
<a href="http://%68%74%74%70%3a%2f%2f%77%77%77%2e%64%6f%6d%61%69%6e%2e%63%6f%6d" target="_blank">http://%68%74%74%70%3a%2f%2f%77%77%77%2e%64%6f%6d%61%69%6e%2e%63%6f%6d</a></span>
</code></div>
  </div>
 </div>
 <a name="56028"></a>
 <div class="note">
  <strong>dbz at soli dot cl</strong><br />
  <a href="#56028">21-Aug-2005 02:21</a>
  <div class="text">
<div class="phpcode"><code><span class="html">
You should have named your form field "organization[]" (notice the square brackets), instead of just organization. When using square brackets, the get/post request is interpreted by PHP as an array.<br />
<br />
If you follow this example you'll understand why it works the way it does:<br />
<br />
<span class="default">&lt;?php<br />
<br />
$organization </span><span class="keyword">= </span><span class="default">92</span><span class="keyword">;<br />
</span><span class="default">$organization </span><span class="keyword">= </span><span class="default">93</span><span class="keyword">;<br />
<br />
</span><span class="comment">// The second asignment overwrites the value of the first <br />
// asignment. $organization === 93.<br />
<br />
</span><span class="default">$organization</span><span class="keyword">[] = </span><span class="default">92</span><span class="keyword">;<br />
</span><span class="default">$organization</span><span class="keyword">[] = </span><span class="default">93</span><span class="keyword">;<br />
<br />
</span><span class="comment">// The above is interpreted as appending data to an array <br />
// named "$organization". $organization is an array<br />
// consisting of the values 92 AND 93.<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
When submitting form fields with appended square brackets to their name, PHP interprets the submission using the same logic exposed above. Thus PHP automatically creates an array with all selected options if "$organization[]" is used as the field name.<br />
<br />
Regards,<br />
&nbsp;&nbsp; Daniel Berstein.</span>
</code></div>
  </div>
 </div>
 <a name="54142"></a>
 <div class="note">
  <strong>dday at cnscorp dot com</strong><br />
  <a href="#54142">24-Jun-2005 10:22</a>
  <div class="text">
<div class="phpcode"><code><span class="html">
When using a multiple select on a form, I ran into a little issue of only receiving the last value form the select box.<br />
I had a select box named organization_id with two values (92 and 93).<br />
To get the values of both, I had to use the following:<br />
<br />
&nbsp;&nbsp;&nbsp; $temp_array = split("&amp;", $_SERVER['QUERY_STRING']);<br />
&nbsp;&nbsp;&nbsp; foreach($temp_array as $key=&gt;$value){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(substr($value, 0, 15) == "organization_id"){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $_GET['organizations'][] = substr($value, 15, strlen($value));<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
this results in a $_GET array like this : <br />
<br />
(<br />
&nbsp;&nbsp;&nbsp; [page] =&gt; idea_submission<br />
&nbsp;&nbsp;&nbsp; [organization_id] =&gt; 93<br />
&nbsp;&nbsp;&nbsp; [organizations] =&gt; Array<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; (<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [0] =&gt; =92<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [1] =&gt; =93<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; )<br />
<br />
)</span>
</code></div>
  </div>
 </div>
 <a name="48185"></a>
 <div class="note">
  <strong>job oberio</strong><br />
  <a href="#48185">14-Dec-2004 01:33</a>
  <div class="text">
<div class="phpcode"><code><span class="html">
just want to share some tip:<br />
<br />
my visitors usually type <a href="http://pinoylinux.com" target="_blank">http://pinoylinux.com</a><br />
in their browser (note: no www) <br />
and i want them to automatically change the url<br />
to use www.<br />
(from <a href="http://pinoylinux.com" target="_blank">http://pinoylinux.com</a> to <a href="http://www.pinoylinux.com" target="_blank">http://www.pinoylinux.com</a>)<br />
<br />
The solution is:<br />
<br />
you can add the ff code to your existing index.php script<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">if&nbsp; (</span><span class="default">$HTTP_HOST</span><span class="keyword">==</span><span class="string">"pinoylinux.com"</span><span class="keyword">)<br />
{<br />
</span><span class="default">header</span><span class="keyword">(</span><span class="string">"Location: <a href="http://www.pinoylinux.com" target="_blank">http://www.pinoylinux.com</a>"</span><span class="keyword">); die(); <br />
}<br />
<br />
~~~ </span><span class="default">your existing codes here </span><span class="keyword">~~~<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
hope that helps</span>
</code></div>
  </div>
 </div>
 <a name="38334"></a>
 <div class="note">
  <strong>php at malaker dot com</strong><br />
  <a href="#38334">17-Dec-2003 03:25</a>
  <div class="text">
<div class="phpcode"><code><span class="html">
Following method do not show the URL in user browser (as the author claimed) if the code resides in the source page of&nbsp; FRAME or IFRAME (say SRC="sourcepage.php") . In that case the URL of the SOURCE page is displayed.<br />
<br />
$url = sprintf("%s%s%s","<a href="http://" target="_blank">http://</a>",$HTTP_HOST,$REQUEST_URI);<br />
echo "$url"; <br />
<br />
Expected result: <a href="http://localhost/urltest/framedpage.php" target="_blank">http://localhost/urltest/framedpage.php</a><br />
<br />
Actual result: <a href="http://localhost/urltest/sourcepage.php" target="_blank">http://localhost/urltest/sourcepage.php</a></span>
</code></div>
  </div>
 </div>
 <a name="37702"></a>
 <div class="note">
  <strong>tappertzhofen at fdos dot de</strong><br />
  <a href="#37702">23-Nov-2003 11:35</a>
  <div class="text">
<div class="phpcode"><code><span class="html">
If you got a server which got only one subdomain and you can't add a subdomain you can easily create your own "subdomain script". You may create a file "index.php" or what ever your defaul filename is in the webpage root directory and add the following PHP Code:<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="comment">// Get possible subdomain<br />
<br />
</span><span class="default">$full_url </span><span class="keyword">= </span><span class="default">sprintf</span><span class="keyword">(</span><span class="default">$HTTP_HOST</span><span class="keyword">); <br />
</span><span class="default">$subdomain </span><span class="keyword">= </span><span class="string">""</span><span class="keyword">;<br />
<br />
for(</span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;</span><span class="default">$i</span><span class="keyword">&lt;=</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$full_url</span><span class="keyword">);</span><span class="default">$i</span><span class="keyword">++)<br />
{<br />
<br />
&nbsp; </span><span class="default">$dummy </span><span class="keyword">= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$full_url</span><span class="keyword">,</span><span class="default">$i</span><span class="keyword">,</span><span class="default">1</span><span class="keyword">);<br />
<br />
&nbsp; if(</span><span class="default">$dummy </span><span class="keyword">== </span><span class="string">"."</span><span class="keyword">)<br />
&nbsp; {<br />
&nbsp;&nbsp;&nbsp; break;<br />
&nbsp; }<br />
<br />
&nbsp; </span><span class="default">$subdomain </span><span class="keyword">= </span><span class="default">$subdomain</span><span class="keyword">.</span><span class="default">$dummy</span><span class="keyword">;<br />
<br />
}<br />
<br />
</span><span class="comment">// Get Subdomain List<br />
<br />
</span><span class="keyword">if (</span><span class="default">$subdomain </span><span class="keyword">&lt;&gt; </span><span class="string">"www"</span><span class="keyword">)<br />
{<br />
<br />
&nbsp; switch(</span><span class="default">$subdomain</span><span class="keyword">)<br />
&nbsp; {<br />
&nbsp;&nbsp;&nbsp; case </span><span class="string">"download"</span><span class="keyword">:<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$real_url </span><span class="keyword">= </span><span class="string">"<a href="http://www.mydomain.com/download/index.php" target="_blank">http://www.mydomain.com/download/index.php</a>"</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp;&nbsp; break;<br />
&nbsp;&nbsp;&nbsp; case </span><span class="string">"contact"</span><span class="keyword">:<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$real_url </span><span class="keyword">= </span><span class="string">"<a href="http://www.mydomain.com/contact.php" target="_blank">http://www.mydomain.com/contact.php</a>"</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp;&nbsp; break; <br />
<br />
&nbsp; }<br />
<br />
&nbsp; </span><span class="default">header</span><span class="keyword">( </span><span class="string">"location: $real_url\r\n" </span><span class="keyword">);<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
 <a name="32792"></a>
 <div class="note">
  <strong>chemanfit at hotmail</strong><br />
  <a href="#32792">06-Jun-2003 05:24</a>
  <div class="text">
<div class="phpcode"><code><span class="html">
just a side note to the above you will need to add the ?<br />
<br />
example<br />
<br />
$page=$PHP_SELF."?".$_SERVER['QUERY_STRING'];</span>
</code></div>
  </div>
 </div>
 <a name="30284"></a>
 <div class="note">
  <strong>ignacio paz posse</strong><br />
  <a href="#30284">12-Mar-2003 05:31</a>
  <div class="text">
<div class="phpcode"><code><span class="html">
Note on the above: the point is that is that using $_SERVER['QUERY_STRING'] along with $PHP_SELF we will have passed whatever variables are already appended (as they might be needed for database queries) <br />
<br />
example, given the following url: <a href="http://www.your_domain/somepage.php?variable=1;" target="_blank">http://www.your_domain/somepage.php?variable=1;</a> <br />
<br />
using $PHP_SELF" we are passing<br />
[scheme]:(<a href="http://" target="_blank">http://</a>), [host]: www.your_domain/&nbsp; and [path]: somepage.php <br />
<br />
adding $_SERVER['QUERY_STRING'], we pass that, plus [query]: variable=1</span>
</code></div>
  </div>
 </div>
 <a name="30263"></a>
 <div class="note">
  <strong>ignacio</strong><br />
  <a href="#30263">12-Mar-2003 10:16</a>
  <div class="text">
<div class="phpcode"><code><span class="html">
/*<br />
May be this is obvious but helps me since I found it: <br />
If I want to append a variable to the url and pass it to the same page. ( in this example I'm using action=email to include an email form on the user click) i do:<br />
*/<br />
<br />
// ...<br />
<br />
&lt;a href="&lt;? echo $PHP_SELF,'?',$_SERVER['QUERY_STRING'],'&amp;action=email' ?&gt;"&gt;email to us&lt;/a&gt;<br />
<br />
// ...<br />
<br />
/* somewhere in the the page (in my case at the bottom) I have: */<br />
<br />
&lt;? if ($action=='email') include('emailForm.htm'); ?&gt;</span>
</code></div>
  </div>
 </div>
 <a name="23148"></a>
 <div class="note">
  <strong>jrg45 at pantheon dot yale dot edu</strong><br />
  <a href="#23148">10-Jul-2002 02:14</a>
  <div class="text">
<div class="phpcode"><code><span class="html">
Note that $_SERVER["HTTP_REFERER"] may not include GET data that was included in the referring address, depending on the browser.&nbsp; So if you rely on GET variables to generate a page, it's not a good idea to use HTTP_REFERER to smoothly "bounce" someone back to the page he/she came from.</span>
</code></div>
  </div>
 </div>
 <a name="21104"></a>
 <div class="note">
  <strong>postmaster at asmatic dot ch</strong><br />
  <a href="#21104">29-Apr-2002 09:15</a>
  <div class="text">
<div class="phpcode"><code><span class="html">
If you want to get the filename requested on a global error page like a 404, just use this code...<br />
<br />
// get the full var...<br />
$page = $HTTP_SERVER_VARS["QUERY_STRING"];<br />
<br />
// part[1] is the url...<br />
// part[0] is the http code (404, etc).<br />
if(strpos($page,";")&gt;0) {<br />
&nbsp;&nbsp; $pageParts = explode(";",$page);<br />
&nbsp;&nbsp; $page = $pageParts[1];<br />
}<br />
<br />
// get only the filename...<br />
$page = basename($page);</span>
</code></div>
  </div>
 </div>
 <a name="18848"></a>
 <div class="note">
  <strong>stephane-wantiez at tiscalinet dot be</strong><br />
  <a href="#18848">07-Feb-2002 06:29</a>
  <div class="text">
<div class="phpcode"><code><span class="html">
if you do this, it will be easier :<br />
echo "<a href="http://{$HTTP_HOST}{$REQUEST_URI}" target="_blank">http://{$HTTP_HOST}{$REQUEST_URI}</a>";</span>
</code></div>
  </div>
 </div>
 <a name="13101"></a>
 <div class="note">
  <strong>verdy_p at wanadoo dot fr</strong><br />
  <a href="#13101">26-May-2001 10:47</a>
  <div class="text">
<div class="phpcode"><code><span class="html">
Note also that the URL shown in $HTTP_REFERER is not always the URL of the web page where the user clicked to invoke the PHP script.<br />
This may instead be a document of your own web site, which contains an HTML element whose one attribute references the script. Note also that the current page fragment (#anchor) may be transmitted or not with the URL, depending on the browser.<br />
Examples:<br />
&lt;FRAME src="your-page-script.php"8&gt;<br />
&lt;IMAGE src="your-image-script.php"&gt;<br />
<br />
In such case, browsers should transmit the URL of the container document, but some still persist in using the previous document in the browser history, and this could cause a different $HTTP_REFERER value be sent when the user comes back to the document referencing your script. If you wanna be sure that the actual current document or previous document in the history is sent, use client-side JavaScript to send it to your script:<br />
<br />
&lt;SCRIPT language="JavaScript"&gt;&lt;!--<br />
document.writeln('&lt;FRAME src="your-page-script.php?js=1&amp;amp;ref=' +<br />
document.location + '"&gt;');<br />
--&gt;&lt;/SCRIPT&gt;&lt;NOSCRIPT&gt;<br />
&lt;FRAME src="your-page-script.php?js=0"&gt;<br />
&lt;/NOSCRIPT&gt;<br />
<br />
And then check the value of $js in your page script to generate appropriate content when the remote user agent does not support client-side scripts (such as most index/scan robots, some old or special simplified browsers, or browsers with JavaScript disabled by their users).</span>
</code></div>
  </div>
 </div>
 <a name="13100"></a>
 <div class="note">
  <strong>verdy_p at wanadoo dot fr</strong><br />
  <a href="#13100">26-May-2001 09:55</a>
  <div class="text">
<div class="phpcode"><code><span class="html">
Warning: when the PHP engine runs for your hosted web site, it may execute on a domain name which is completely different than the one the user requested in its browser. Many free web hosting site use proxies and/or multiple DNS entries for your hosted web site. This means that:<br />
- the IP of the web server can change if multiple DNS entries are present (there may be several web servers running concurrently)<br />
- reverse DNS name from the IP may give different domain name over time, or if the domain name is a CNAME only for a virtual web server hosting many domains<br />
- the server running PHP may be different than the web server<br />
- the web server may be hidden behind a proxy which balances the load between a farm of servers<br />
- the queried host name in the HTTP headers may be different than the queried host name in the browser, if behind a redirecting proxy<br />
- the actual path name of the ressource may be also different, with additional path elements: this is very common on free hosting servers, where you get a virtual CNAME domain, which gets translated by a proxy into an actual web server, and a domain-specific document root directory<br />
<br />
So when thinking about using absolute path names you can retreive from PHP, beware that this may not be accurate to insert as absolute URL's in the HTML code built with PHP.<br />
<br />
The best solution is then to ALWAYS USE relative URLs to reference documents and form scripts on your local server !<br />
<br />
This applies to $PHP_SELF too, because it's an absolute pathname: don't use it directly but you can safely use basename($PHP_SELF) to reference your script within HTML forms:<br />
<br />
&lt;?<br />
$self=basename($PHP_SELF);<br />
?&gt;<br />
&lt;HTML&gt;&lt;HEAD&gt;<br />
...<br />
&lt;/HEAD&gt;&lt;BODY&gt;<br />
&lt;FORM method="GET" action="$self"&gt;<br />
...<br />
&lt;/FORM&gt;<br />
&lt;/BODY&gt;&lt;/HTML&gt;</span>
</code></div>
  </div>
 </div>
 <a name="4800"></a>
 <div class="note">
  <strong>tumor at kkt dot bme dot hu</strong><br />
  <a href="#4800">01-Apr-2000 10:18</a>
  <div class="text">
<div class="phpcode"><code><span class="html">
To check if a URL is valid, try to fopen() it. If fopen() results an error (returns false), then PHP cannot open the URL you asked. This is usually because it is not valid...</span>
</code></div>
  </div>
 </div>
 <div class="foot"><a href="/manual/add-note.php?sect=ref.url&amp;redirect=http://www.php.net/manual/en/ref.url.php"><img src="http://static.php.net/www.php.net/images/notes-add.gif" alt="add a note" width="13" height="13" align="middle" /></a> <small><a href="/manual/add-note.php?sect=ref.url&amp;redirect=http://www.php.net/manual/en/ref.url.php">add a note</a></small></div>
</div><br /><!--UdmComment-->
<div class="manualnavbar manualnavbar_bottom">
 <span class="next">
  <a href="function.base64-decode.php">base64_decode<img src="http://static.php.net/www.php.net/images/caret-r.gif" alt="&gt;" width="11" height="7" /></a>
 </span>
 <span class="prev">
  <a href="book.url.php"><img src="http://static.php.net/www.php.net/images/caret-l.gif" alt="&lt;" width="11" height="7" />URLs</a>
 </span>
 <hr />
 <span class="lastupdated">Last updated: Fri, 11 Apr 2008</span>
 <div class="langchooser">
  &nbsp;
 </div>
</div>
<!--/UdmComment-->


 </div>
 <div class="cleaner">&nbsp;</div>
</div>

<div id="footnav">
   <a href="/source.php?url=/manual/en/ref.url.php">show source</a> |
 <a href="/credits.php">credits</a> |
 <a href="/stats/">stats</a> |
 <a href="/sitemap.php">sitemap</a> |
 <a href="/contact.php">contact</a> |
 <a href="/contact.php#ads">advertising</a> |
 <a href="/mirrors.php">mirror sites</a>
</div>

<div id="pagefooter">
 <div id="copyright">
  <a href="/copyright.php">Copyright &copy; 2001-2008 The PHP Group</a><br />
  All rights reserved.
 </div>

 <div id="thismirror">
  <a href="/mirror.php">This mirror</a> generously provided by:
  <a href="http://developer.yahoo.com/">Yahoo! Inc.</a><br />
  Last updated: Wed Apr 16 05:27:53 2008 PDT
 </div>
</div>

</body>
</html>